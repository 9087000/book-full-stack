{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../book-service.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction FilterComponent_div_2_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r5 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", option_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r5);\n  }\n}\nfunction FilterComponent_div_2_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r6 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", option_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r6);\n  }\n}\nfunction FilterComponent_div_2_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r7 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", option_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r7);\n  }\n}\nfunction FilterComponent_div_2_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r8 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", option_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r8);\n  }\n}\nfunction FilterComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"span\", 4);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_2_Template_span_click_2_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.toggleFilter());\n    });\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5, \"Filter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\")(7, \"label\", 5);\n    i0.ɵɵtext(8, \"Title:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"select\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.titleFilter = $event);\n    })(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_9_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onChangeSelect());\n    });\n    i0.ɵɵelementStart(10, \"option\", 7);\n    i0.ɵɵtext(11, \"All\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, FilterComponent_div_2_option_12_Template, 2, 2, \"option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"label\", 5);\n    i0.ɵɵtext(14, \"Author:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"select\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.authorFilter = $event);\n    })(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_15_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onChangeSelect());\n    });\n    i0.ɵɵelementStart(16, \"option\", 7);\n    i0.ɵɵtext(17, \"All\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, FilterComponent_div_2_option_18_Template, 2, 2, \"option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"label\", 5);\n    i0.ɵɵtext(20, \"Category:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"select\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.categoryFilter = $event);\n    })(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_21_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.onChangeSelect());\n    });\n    i0.ɵɵelementStart(22, \"option\", 7);\n    i0.ɵɵtext(23, \"All\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, FilterComponent_div_2_option_24_Template, 2, 2, \"option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"label\", 5);\n    i0.ɵɵtext(26, \"Rating:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"select\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.ratingFilter = $event);\n    })(\"ngModelChange\", function FilterComponent_div_2_Template_select_ngModelChange_27_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onChangeSelect());\n    });\n    i0.ɵɵelementStart(28, \"option\", 7);\n    i0.ɵɵtext(29, \"All\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, FilterComponent_div_2_option_30_Template, 2, 2, \"option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_2_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.applyFilter(true));\n    });\n    i0.ɵɵtext(32, \"Apply\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_2_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.clearFilters());\n    });\n    i0.ɵɵtext(34, \"Clear\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.titleFilter);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.titleOptions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.authorFilter);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.authorOptions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.categoryFilter);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categoryOptions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.ratingFilter);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.ratingOptions);\n  }\n}\nexport class FilterComponent {\n  constructor(bookService) {\n    this.bookService = bookService;\n    this.filteredBooksEmiter = new EventEmitter();\n    this.toggle = false;\n    this.titleOptions = [];\n    this.authorOptions = [];\n    this.categoryOptions = [];\n    this.ratingOptions = [];\n    this.bookService.books.subscribe(data => {\n      this.books = data;\n      this.filteredBooks = this.books;\n    });\n    this.clearFilters();\n  }\n  applyFilter(toggle) {\n    this.filteredBooks = this.books.filter(book => {\n      const titleMatch = book.title.toLowerCase().includes(this.titleFilter?.toLowerCase() || '');\n      const authorMatch = book.author.toLowerCase().includes(this.authorFilter?.toLowerCase() || '');\n      const categoryMatch = book.category.toLowerCase().includes(this.categoryFilter?.toLowerCase() || '');\n      const ratingMatch = book.rating.toString().includes(this.ratingFilter?.toLowerCase() || '');\n      return titleMatch && authorMatch && categoryMatch && ratingMatch;\n    });\n    this.filteredBooksEmiter.emit(this.filteredBooks);\n    if (toggle) this.toggleFilter();\n  }\n  toggleFilter() {\n    this.toggle = !this.toggle;\n    this.getFilterOptions();\n  }\n  getFilterOptions() {\n    this.clearOptions();\n    this.filteredBooks?.forEach(book => {\n      if (!this.titleOptions.includes(book.title)) this.titleOptions.push(book.title);\n      if (!this.authorOptions.includes(book.author)) this.authorOptions.push(book.author);\n      if (!this.categoryOptions.includes(book.category)) this.categoryOptions.push(book.category);\n      if (!this.ratingOptions.includes(book.rating)) this.ratingOptions.push(book.rating);\n    });\n    this.sortOptions();\n  }\n  getAllOptions() {\n    this.clearOptions();\n    this.books?.forEach(book => {\n      if (!this.titleOptions.includes(book.title)) this.titleOptions.push(book.title);\n      if (!this.authorOptions.includes(book.author)) this.authorOptions.push(book.author);\n      if (!this.categoryOptions.includes(book.category)) this.categoryOptions.push(book.category);\n      if (!this.ratingOptions.includes(book.rating)) this.ratingOptions.push(book.rating);\n    });\n    this.sortOptions();\n  }\n  clearFilters() {\n    this.titleFilter = \"\";\n    this.authorFilter = \"\";\n    this.categoryFilter = \"\";\n    this.ratingFilter = \"\";\n    this.getAllOptions();\n    this.applyFilter(false);\n  }\n  sortOptions() {\n    this.titleOptions.sort();\n    this.authorOptions.sort();\n    this.categoryOptions.sort();\n    this.ratingOptions.sort();\n  }\n  clearOptions() {\n    this.titleOptions = [];\n    this.authorOptions = [];\n    this.categoryOptions = [];\n    this.ratingOptions = [];\n  }\n  onChangeSelect() {\n    this.applyFilter(false);\n    this.getFilterOptions();\n  }\n}\nFilterComponent.ɵfac = function FilterComponent_Factory(t) {\n  return new (t || FilterComponent)(i0.ɵɵdirectiveInject(i1.BookServiceService));\n};\nFilterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FilterComponent,\n  selectors: [[\"app-filter\"]],\n  outputs: {\n    filteredBooksEmiter: \"filteredBooksEmiter\"\n  },\n  decls: 3,\n  vars: 1,\n  consts: [[3, \"click\"], [\"class\", \"modal-overlay\", 4, \"ngIf\"], [1, \"modal-overlay\"], [1, \"modal\"], [1, \"close\", 3, \"click\"], [\"for\", \"title\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n  template: function FilterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function FilterComponent_Template_button_click_0_listener() {\n        return ctx.toggleFilter();\n      });\n      i0.ɵɵtext(1, \"Filter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, FilterComponent_div_2_Template, 35, 8, \"div\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.toggle);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\"button[_ngcontent-%COMP%] {\\r\\n    width: 80px;\\r\\n    height: 50px;\\r\\n    margin: 10px;\\r\\n    margin-left: auto;\\r\\n    padding: 0;\\r\\n    font-size: 14px;\\r\\n    background-color: #50a3e3;\\r\\n    color: #ffffff;\\r\\n    border: none;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\\r\\n    transition: background-color 0.3s ease;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #4093d0;\\r\\n}\\r\\n\\r\\n.modal-overlay[_ngcontent-%COMP%] {\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-color: rgba(0, 0, 0, 0.5);\\r\\n    z-index: 9999;\\r\\n  }\\r\\n  \\r\\n  option[type=\\\"text\\\"][_ngcontent-%COMP%], option[type=\\\"number\\\"][_ngcontent-%COMP%] {\\r\\n    padding: 10px;\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 4px;\\r\\n    font-size: 16px;\\r\\n    outline: none;\\r\\n    transition: border-color 0.3s ease-in-out;\\r\\n    width: 90%;\\r\\n  }\\r\\n  \\r\\n  option[type=\\\"text\\\"][_ngcontent-%COMP%]:focus, option[type=\\\"number\\\"][_ngcontent-%COMP%]:focus {\\r\\n    border-color: #4c9aff;\\r\\n  }\\r\\n\\r\\n  select[_ngcontent-%COMP%] {\\r\\n    width: 200px;\\r\\n    padding: 8px;\\r\\n    font-size: 16px;\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 4px;\\r\\n    width: 100%;\\r\\n  }\\r\\n  \\r\\n  label[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin-top: 8px;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n\\r\\n  option[_ngcontent-%COMP%] {\\r\\n    background-color: #f2f2f2;\\r\\n    color: #333;\\r\\n  }\\r\\n  \\r\\n  option[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #ddd;\\r\\n  }\\r\\n  \\r\\n  .modal[_ngcontent-%COMP%] {\\r\\n    background-color: #ffffff;\\r\\n    padding: 20px;\\r\\n    border-radius: 5px;\\r\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\\r\\n    max-width: 400px;\\r\\n    width: 40vw;\\r\\n    position: fixed;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n  }\\r\\n\\r\\n  .close[_ngcontent-%COMP%] {\\r\\n    color: #aaa;\\r\\n    float: right;\\r\\n    font-size: 28px;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n  \\r\\n  .close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus {\\r\\n    color: black;\\r\\n    text-decoration: none;\\r\\n    cursor: pointer;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlsdGVyL2ZpbHRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFVBQVU7SUFDVixlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZix3Q0FBd0M7SUFDeEMsc0NBQXNDO0FBQzFDOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLE1BQU07SUFDTixPQUFPO0lBQ1AsV0FBVztJQUNYLFlBQVk7SUFDWixvQ0FBb0M7SUFDcEMsYUFBYTtFQUNmOztFQUVBOztJQUVFLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixhQUFhO0lBQ2IseUNBQXlDO0lBQ3pDLFVBQVU7RUFDWjs7RUFFQTs7SUFFRSxxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSxZQUFZO0lBQ1osWUFBWTtJQUNaLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxlQUFlO0lBQ2YsaUJBQWlCO0VBQ25COztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLHNCQUFzQjtFQUN4Qjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHdDQUF3QztJQUN4QyxnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLGVBQWU7SUFDZixRQUFRO0lBQ1IsU0FBUztJQUNULGdDQUFnQztFQUNsQzs7RUFFQTtJQUNFLFdBQVc7SUFDWCxZQUFZO0lBQ1osZUFBZTtJQUNmLGlCQUFpQjtFQUNuQjs7RUFFQTs7SUFFRSxZQUFZO0lBQ1oscUJBQXFCO0lBQ3JCLGVBQWU7RUFDakIiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b24ge1xyXG4gICAgd2lkdGg6IDgwcHg7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBtYXJnaW46IDEwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTBhM2UzO1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XHJcbn1cclxuXHJcbmJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA5M2QwO1xyXG59XHJcblxyXG4ubW9kYWwtb3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICB6LWluZGV4OiA5OTk5O1xyXG4gIH1cclxuICBcclxuICBvcHRpb25bdHlwZT1cInRleHRcIl0sXHJcbiAgb3B0aW9uW3R5cGU9XCJudW1iZXJcIl0ge1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuM3MgZWFzZS1pbi1vdXQ7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gIH1cclxuICBcclxuICBvcHRpb25bdHlwZT1cInRleHRcIl06Zm9jdXMsXHJcbiAgb3B0aW9uW3R5cGU9XCJudW1iZXJcIl06Zm9jdXMge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjNGM5YWZmO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0IHtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgXHJcbiAgbGFiZWwge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICB9XHJcblxyXG4gIG9wdGlvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgfVxyXG4gIFxyXG4gIG9wdGlvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xyXG4gIH1cclxuICBcclxuICAubW9kYWwge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gICAgbWF4LXdpZHRoOiA0MDBweDtcclxuICAgIHdpZHRoOiA0MHZ3O1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICB9XHJcblxyXG4gIC5jbG9zZSB7XHJcbiAgICBjb2xvcjogI2FhYTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIGZvbnQtc2l6ZTogMjhweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuICBcclxuICAuY2xvc2U6aG92ZXIsXHJcbiAgLmNsb3NlOmZvY3VzIHtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","i0","FilterComponent","constructor","bookService","books","subscribe","data","filteredBooks","clearFilters","applyFilter","toggle","filter","book","titleMatch","title","toLowerCase","includes","titleFilter","authorMatch","author","authorFilter","categoryMatch","category","categoryFilter","ratingMatch","rating","toString","ratingFilter","filteredBooksEmiter","emit","toggleFilter","getFilterOptions","clearOptions","forEach","titleOptions","push","authorOptions","categoryOptions","ratingOptions","sortOptions","getAllOptions","sort","onChangeSelect","selectors","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\mukul\\Downloads\\BookLibrary-main\\bookLibrary-frontend\\src\\app\\filter\\filter.component.ts","C:\\Users\\mukul\\Downloads\\BookLibrary-main\\bookLibrary-frontend\\src\\app\\filter\\filter.component.html"],"sourcesContent":["import { Component, Output, EventEmitter } from '@angular/core';\nimport { Book } from '../BookInterface';\nimport { BookServiceService } from '../book-service.service';\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.css']\n})\nexport class FilterComponent {\n  books: any;\n  filteredBooks?: Book[];\n  @Output() filteredBooksEmiter = new EventEmitter<any>();\n\n  titleFilter?: string;\n  authorFilter?: string;\n  categoryFilter?: string;\n  ratingFilter?: string;\n  toggle: boolean = false;\n  titleOptions: String[] = []\n  authorOptions: String[] = []\n  categoryOptions: String[] = []\n  ratingOptions: Number[] = []\n\n\n  constructor(private bookService: BookServiceService) {\n    this.bookService.books.subscribe((data: any) => {\n      this.books = data\n      this.filteredBooks = this.books;\n    });\n    this.clearFilters()\n  }\n\n  applyFilter(toggle: boolean) {\n    this.filteredBooks = this.books.filter((book: any) => {\n      const titleMatch = book.title.toLowerCase().includes(this.titleFilter?.toLowerCase() || '');\n      const authorMatch = book.author.toLowerCase().includes(this.authorFilter?.toLowerCase() || '');\n      const categoryMatch = book.category.toLowerCase().includes(this.categoryFilter?.toLowerCase() || '');\n      const ratingMatch = book.rating.toString().includes(this.ratingFilter?.toLowerCase() || '');\n      return titleMatch && authorMatch && categoryMatch && ratingMatch;\n    });\n    this.filteredBooksEmiter.emit(this.filteredBooks);\n    if (toggle)\n      this.toggleFilter()\n  }\n\n  toggleFilter(){ \n    this.toggle = !this.toggle;\n    this.getFilterOptions();\n  }\n\n  getFilterOptions() {\n    this.clearOptions()\n    this.filteredBooks?.forEach(book => {\n      if(!this.titleOptions.includes(book.title))\n        this.titleOptions.push(book.title)\n      if(!this.authorOptions.includes(book.author))\n        this.authorOptions.push(book.author)\n      if(!this.categoryOptions.includes(book.category))\n        this.categoryOptions.push(book.category)\n      if(!this.ratingOptions.includes(book.rating))\n        this.ratingOptions.push(book.rating)\n    })\n    this.sortOptions()\n  }\n\n  getAllOptions() {\n    this.clearOptions()\n    this.books?.forEach((book: any) => {\n      if(!this.titleOptions.includes(book.title))\n        this.titleOptions.push(book.title)\n      if(!this.authorOptions.includes(book.author))\n        this.authorOptions.push(book.author)\n      if(!this.categoryOptions.includes(book.category))\n        this.categoryOptions.push(book.category)\n      if(!this.ratingOptions.includes(book.rating))\n        this.ratingOptions.push(book.rating)\n    })\n    this.sortOptions()\n  }\n\n  clearFilters() {\n    this.titleFilter = \"\"\n    this.authorFilter = \"\"\n    this.categoryFilter = \"\"\n    this.ratingFilter = \"\"\n    this.getAllOptions()\n    this.applyFilter(false)\n  }\n\n  sortOptions(){\n    this.titleOptions.sort()\n    this.authorOptions.sort()\n    this.categoryOptions.sort()\n    this.ratingOptions.sort()\n  }\n\n  clearOptions(){\n    this.titleOptions = [];\n    this.authorOptions = [];\n    this.categoryOptions = [];\n    this.ratingOptions = [];\n  }\n\n  onChangeSelect(){\n    this.applyFilter(false)\n    this.getFilterOptions()\n  }\n}","<button (click)=\"toggleFilter()\">Filter</button>\n\n<div class=\"modal-overlay\" *ngIf=\"toggle\">\n    <div class=\"modal\">\n        <span class=\"close\" (click)=\"toggleFilter()\">&times;</span>\n        <h2>Filter</h2>\n        <div>\n            <label for=\"title\">Title:</label>\n            <select [(ngModel)]=\"titleFilter\" (ngModelChange)=\"onChangeSelect()\">\n                <option value=\"\" selected>All</option>\n                <option *ngFor=\"let option of titleOptions\" value=\"{{option}}\">{{option}}</option>\n            </select>\n            <label for=\"title\">Author:</label>\n            <select [(ngModel)]=\"authorFilter\" (ngModelChange)=\"onChangeSelect()\">\n                <option value=\"\" selected>All</option>\n                <option *ngFor=\"let option of authorOptions\" value=\"{{option}}\">{{option}}</option>\n            </select>\n            <label for=\"title\">Category:</label>\n            <select [(ngModel)]=\"categoryFilter\" (ngModelChange)=\"onChangeSelect()\">\n                <option value=\"\" selected>All</option>\n                <option *ngFor=\"let option of categoryOptions\" value=\"{{option}}\">{{option}}</option>\n            </select>\n            <label for=\"title\">Rating:</label>\n            <select [(ngModel)]=\"ratingFilter\" (ngModelChange)=\"onChangeSelect()\">\n                <option value=\"\" selected>All</option>\n                <option *ngFor=\"let option of ratingOptions\" value=\"{{option}}\">{{option}}</option>\n            </select>\n            <button (click)=\"applyFilter(true)\">Apply</button>\n            <button (click)=\"clearFilters()\">Clear</button>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}